{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3e9ab4a6af80275b3ee5","webpack:///./src/index.js","webpack:///./node_modules/gr-event-dispatcher/src/eventDispatcher.js","webpack:///./src/util/remove-prefix.js","webpack:///./src/util/trim.js","webpack:///./src/util/assign.js","webpack:///./src/is-storage-supported.js","webpack:///./src/create-key-prefix.js","webpack:///./src/iterate-storage.js","webpack:///./src/key-belongs-to-db.js","webpack:///./src/util/begins-with.js"],"names":["dbNameError","defaultConfig","driver","localStorage","name","events","set","set_err","get","get_err","remove","remove_err","clear","WebStorage","options","Error","storeKeyPrefix","apply","Object","getPrototypeOf","key","item","getItem","_item","JSON","parse","dispatchEvent","type","data","error","value","setItem","stringify","removeItem","bind","keysArr","push","keys","length","iteratorCallback","_key","_value","call","items","totalSize","itemSize","total","removePrefix","str","prefix","indexOf","slice","trim","String","prototype","replace","assign","target","TypeError","to","index","nextSource","nextKey","hasOwnProperty","isStorageSupported","storageType","dummy","createKeyPrefix","instance","iterateStorage","callback","forEach","keyBelongsToDB","beginsWith","substr"],"mappings":"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","file":"webStorage.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"webStorage\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webStorage\"] = factory();\n\telse\n\t\troot[\"webStorage\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3e9ab4a6af80275b3ee5","import eventDispatcher from 'gr-event-dispatcher';\nimport removePrefix from './util/remove-prefix';\nimport trim from './util/trim';\nimport assign from './util/assign';\nimport isStorageSupported from './is-storage-supported';\nimport createKeyPrefix from './create-key-prefix';\nimport iterateStorage from './iterate-storage';\n\nconst dbNameError = 'You must use a valid name for the database.';\n\n/**\n * Default webStorage configuration\n * @private\n * @type {Object}\n */\nconst defaultConfig = {\n  driver: localStorage,\n  name: 'webStorage'\n};\n\n/**\n * Holds the events names for reference\n * @private\n * @type {Object}\n */\nconst events = {\n  set: 'setItem',\n  set_err: 'setItemError',\n  get: 'getItem',\n  get_err: 'getItemError',\n  remove: 'removeItem',\n  remove_err: 'removeItemError',\n  clear: 'clear'\n};\n\nclass WebStorage {\n  /**\n   * WebStorage constructor\n   *\n   * @constructor\n   * @param {Object} [options] Object that contains config options to extend defaults.\n   * @throws {Error} If a `options.name` is not a valid non-empty string.\n   */\n  constructor(options) {\n    options = assign({}, defaultConfig, options);\n\n    if (typeof options.name !== 'string' || trim(options.name) === '') {\n      throw new Error(dbNameError);\n    }\n\n    this.options = options;\n    this.storeKeyPrefix = createKeyPrefix(this);\n    eventDispatcher.apply(Object.getPrototypeOf(this));\n  }\n\n  /**\n   * Creates a new instance of WebStorage.\n   *\n   * @param {Object} options Object that contains config options to extend defaults.\n   * @return {WebStorage} A new WebStorage instance.\n   */\n  createInstance(options) {\n    return new WebStorage(options);\n  }\n\n  /**\n   * Configures the instance of WebStorage with user's options that will extend the defaults.\n   *\n   * @this {WebStorage}\n   * @param {Object} options Object that contains config options to extend defaults.\n   * @throws {Error} If a `options.name` is not a valid non-empty string.\n   * @return {WebStorage} The WebStorage instance for convenience and chaining.\n   */\n  config(options) {\n    options = assign({}, defaultConfig, options);\n\n    if (typeof options.name !== 'string' || trim(options.name) === '') {\n      throw new Error(dbNameError);\n    }\n\n    this.options = options;\n    this.storeKeyPrefix = createKeyPrefix(this);\n    return this;\n  }\n\n  /**\n   * Gets a saved item from storage by its key.\n   *\n   * @this {WebStorage}\n   * @param {String} key The property name of the item to save.\n   * @return {*} Returns the saved item.\n   */\n  getItem(key) {\n    const item = this.options.driver.getItem(this.storeKeyPrefix + key);\n\n    try {\n      const _item = JSON.parse(item);\n      this.dispatchEvent({type: events.get, data: _item});\n      return _item;\n    } catch (error) {\n      this.dispatchEvent({type: events.get_err, data: error});\n    }\n  }\n\n  /**\n   * Saves an item to storage.\n   *\n   * @this {WebStorage}\n   * @param {String} key The property name of teh item to save.\n   * @param {*} value The item to save to the selected storage.\n   * @return {WebStorage} The WebStorage instance for convenience and chaining.\n   */\n  setItem(key, value) {\n    try {\n      value = value == null ? null : value;\n      key = this.storeKeyPrefix + key;\n      this.options.driver.setItem(key, JSON.stringify(value));\n      this.dispatchEvent({type: events.set, data: value});\n    } catch (error) {\n      this.dispatchEvent({type: events.set_err, data: error});\n    }\n    return this;\n  }\n\n  /**\n   * Removes an item from storage.\n   *\n   * @this {WebStorage}\n   * @param {String} key The property name of the item to remove.\n   * @return {WebStorage} The WebStorage instance for convenience and chaining.\n   */\n  removeItem(key) {\n    try {\n      this.options.driver.removeItem(this.storeKeyPrefix + key);\n      this.dispatchEvent({type: events.remove, data: key});\n    } catch (error) {\n      this.dispatchEvent({type: events.remove_err, data: key});\n    }\n    return this;\n  }\n\n  /**\n   * Removes all saved items from storage.\n   *\n   * @this {WebStorage}\n   * @return {WebStorage} The WebStorage instance for convenience and chaining.\n   */\n  clear() {\n    const driver = this.options.driver;\n    iterateStorage(this, driver.removeItem.bind(driver));\n    this.dispatchEvent({type: events.clear});\n    return this;\n  }\n\n  /**\n   * Gets the list of all keys in the offline storage for a specific database.\n   *\n   * @this {WebStorage}\n   * @return {Array} An array of all the keys that belong to a specific database.\n   */\n  keys() {\n    const keysArr = [];\n    const storeKeyPrefix = this.storeKeyPrefix;\n    iterateStorage(this, key => keysArr.push(removePrefix(key, storeKeyPrefix)));\n    return keysArr;\n  }\n\n  /**\n   * Gets the number of keys in the datastore.\n   *\n   * @this {WebStorage}\n   * @return {Number} The number of keys in the datastore.\n   */\n  length() {\n    return this.keys().length;\n  }\n\n  /**\n   * Iterate over all value/key pairs in datastore.\n   *\n   * @this {WebStorage}\n   * @param {function} iteratorCallback A callabck function to execute for each iteration.\n   *        `iteratorCallback` is called once for each pair, with the following arguments:\n   *        - {String} key The key of the saved item.\n   *        - {*} value The value of the saved item.\n   * @return {WebStorage} The WebStorage instance for convenience and chaining.\n   */\n  iterate(iteratorCallback) {\n    const storeKeyPrefix = this.storeKeyPrefix;\n\n    iterateStorage(this, (key, value) => {\n      const _key = removePrefix(key, storeKeyPrefix);\n      const _value = JSON.parse(value);\n      iteratorCallback && iteratorCallback.call(this, _key, _value);\n    });\n\n    return this;\n  }\n\n  /**\n   * Display (approximately) the size for each key in datastore and the total size of all kesy in MB.\n   *\n   * @this {WebStorage}\n   * @return {Object<string,number>} An object with two properties that display the size for each key and the total size in MB.\n   */\n  quota() {\n    const items = {};\n    let totalSize = 0;\n\n    iterateStorage(this, (key, value) => {\n      const itemSize = value.length * 2 / 1024 / 1024;\n      totalSize += itemSize;\n      items[key] = itemSize;\n    });\n\n    return {\n      total: totalSize,\n      items: items\n    };\n  }\n\n  /**\n   * Checks if the driver of choice (localStorage or sessionStorage) is supported.\n   * It may return `false` if storage is full.\n   *\n   * @this {WebStorage}\n   * @return {Boolean} Returns true if Web Storage is supported; otherwise false.\n   */\n  supported() {\n    return isStorageSupported(this.options.driver);\n  }\n}\n\nexport default new WebStorage();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * @module eventDispatcher\n * @desc JavaScript events for custom objects\n */\n(function (name, context, definition) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    define(definition);\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = definition();\n  } else {\n    context[name] = definition(name, context);\n  }\n}('eventDispatcher', this, function (name) {\n  'use strict';\n\n  var errors = {\n    nonExtensible: 'Cannot apply \"' + name + '\" on an non extensible object'\n  };\n\n  var eventDispatcherPrototype = {\n    /**\n     * Registers the specified `listener` on the event target it's called on.\n     *\n     * @function addEventListener\n     * @param {String} type A string representing the event type to listen for.\n     * @param {function} listener A function to be executed when an event of the specified `type` occurs.\n     * @throws {TypeError} If the object that `eventDispatcher` is applied to is not extensible.\n     * @return {Object} The `eventDispatcher` object.\n     */\n    addEventListener: function (type, listener) {\n      var listeners;\n\n      if (!Object.isExtensible(this)) {\n        throw new TypeError(errors.nonExtensible);\n      }\n\n      if (typeof this._listeners === 'undefined') {\n        this._listeners = {};\n      }\n\n      listeners = this._listeners;\n\n      if (typeof listeners[type] === 'undefined') {\n        listeners[type] = [];\n      }\n\n      if (listeners[type].indexOf(listener) === - 1) {\n        listeners[type].push(listener);\n      }\n\n      return this;\n    },\n\n    /**\n     * Checks if the target object has a `listener` registered on for specific event `type`..\n     *\n     * @function hasEventListener\n     * @param {String} type A string representing the event type.\n     * @param {function} listener The event listener to check if registered for the specified event `type`.\n     * @return {Boolean} True if target object has `listener` registered for specific event `type`; otherwise false.\n     */\n    hasEventListener: function (type, listener) {\n      var listeners;\n\n      if (typeof this._listeners === 'undefined') {\n        return false;\n      }\n\n      listeners = this._listeners;\n\n      if (typeof listeners[type] !== 'undefined' && listeners[type].indexOf(listener) !== - 1) {\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * Removes the previously registered event `listener` from the event target.\n     *\n     * @function removeEventListener\n     * @param {String} type A string representing the event type to remove.\n     * @param {function} listener The event listener function to remove from the event target.\n     * @return {Object} The `eventDispatcher` object.\n     */\n    removeEventListener: function (type, listener) {\n      var listeners, listenerArray, index;\n\n      if (typeof this._listeners === 'undefined') {\n        return;\n      }\n\n      listeners = this._listeners;\n      listenerArray = listeners[type];\n\n      if (typeof listenerArray !== 'undefined') {\n        index = listenerArray.indexOf(listener);\n\n        if (index !== - 1) {\n          listenerArray.splice(index, 1);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Dispatches an event at the specified event target.\n     *\n     * @function dispatchEvent\n     * @param {Object} event The event object to be dispatched.\n     * @return {Object} The `eventDispatcher` object.\n     */\n    dispatchEvent: function (event) {\n      var listeners, listenerArray, i, length;\n\n      if (typeof this._listeners === 'undefined') {\n        return;\n      }\n\n      listeners = this._listeners;\n      listenerArray = listeners[event.type];\n\n      if (typeof listenerArray !== 'undefined') {\n        event.target = this;\n\n        length = listenerArray.length;\n\n        for (i = 0; i < length; i += 1) {\n          listenerArray[i].call(this, event);\n        }\n      }\n\n      return this;\n    }\n  };\n\n  var eventDispatcher = Object.create(eventDispatcherPrototype, {\n    apply: {\n      /**\n       * Applies the `eventDispatcher` prototype methods to the event target.\n       *\n       * @function apply\n       * @param {Object} object The event target object.\n       * @throws {TypeError} If the object that `eventDispatcher` is applied to is not extensible.\n       * @return {Object} The `eventDispatcher` object.\n       */\n      value: function applyEventDispatcher(object) {\n        if (!Object.isExtensible(object)) {\n          throw new TypeError(errors.nonExtensible);\n        }\n\n        object.addEventListener = eventDispatcherPrototype.addEventListener;\n        object.hasEventListener = eventDispatcherPrototype.hasEventListener;\n        object.removeEventListener = eventDispatcherPrototype.removeEventListener;\n        object.dispatchEvent = eventDispatcherPrototype.dispatchEvent;\n\n        return this;\n      }\n    }\n  });\n\n  return eventDispatcher;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/gr-event-dispatcher/src/eventDispatcher.js\n// module id = 1\n// module chunks = 0","export default function removePrefix(str, prefix) {\n  return str.indexOf(prefix) === 0 ? str.slice(prefix.length) : str;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/remove-prefix.js","export default function trim(str) {\n  return String.prototype.trim ? str.trim() : str.replace(/(^\\s*|\\s*$)/g, '');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/trim.js","export default function assign(target, ...args) {\n  if (target == null) { // TypeError if undefined or null\n    throw new TypeError('Cannot convert undefined or null to object');\n  }\n\n  const to = Object(target);\n\n  for (let index = 0; index < args.length; index += 1) {\n    const nextSource = args[index];\n\n    if (nextSource != null) { // Skip over if undefined or null\n      for (let nextKey in nextSource) {\n        // Avoid bugs when hasOwnProperty is shadowed\n        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n          to[nextKey] = nextSource[nextKey];\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/assign.js","/**\n * Helper function to check if Web Storage is supported.\n *\n * @param {Object} storageType The type of the offline storage (localStorage || sessionStorage).\n * @return {Boolean} Returns true if supported else returns false.\n */\nfunction isStorageSupported(storageType) {\n  const dummy = 'storage.dummy';\n\n  try {\n    storageType.setItem(dummy, dummy);\n    storageType.removeItem(dummy);\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport default isStorageSupported;\n\n\n\n// WEBPACK FOOTER //\n// ./src/is-storage-supported.js","/**\n * Helper function that creates the storage key's prefix.\n *\n * @param {Object} instance The WebStorage instance.\n * @return {String} Returns the keys's prefix.\n */\nfunction createKeyPrefix(instance) {\n  return `${instance.options.name}/`;\n}\n\nexport default createKeyPrefix;\n\n\n\n// WEBPACK FOOTER //\n// ./src/create-key-prefix.js","import keyBelongsToDB from './key-belongs-to-db';\n\n/**\n * Helper function that iterates over storage keys.\n *\n * @param {Object} instance The WebStorage instance.\n * @param {function} callback A function to be executed for each iteration.\n * @return {undefined}\n */\nfunction iterateStorage(instance, callback) {\n  const driver = instance.options.driver;\n\n  Object.keys(driver).forEach(function (key) {\n    if (keyBelongsToDB(instance, key)) {\n      callback(key, driver[key]);\n    }\n  });\n}\n\nexport default iterateStorage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/iterate-storage.js","import beginsWith from './util/begins-with';\n\n/**\n * Helper function that checks if a key belongs to a database.\n * Check is done using the keys' prefix.\n *\n * @param {Object} instance The WebStorage instance.\n * @param {String} key The key to check if belongs to a database.\n * @return {Boolean} Returns true if key belongs to a database else returns false.\n */\nfunction keyBelongsToDB(instance, key) {\n  return beginsWith(key, instance.storeKeyPrefix);\n}\n\nexport default keyBelongsToDB;\n\n\n\n// WEBPACK FOOTER //\n// ./src/key-belongs-to-db.js","export default function beginsWith(str, prefix) {\n  return str.substr(0, prefix.length) === prefix;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/begins-with.js"],"sourceRoot":""}